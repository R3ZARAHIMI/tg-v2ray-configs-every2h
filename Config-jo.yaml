port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
dns:
  enable: true
  listen: 0.0.0.0:53
  default-nameserver:
  - 8.8.8.8
  - 1.1.1.1
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fallback:
  - https://dns.google/dns-query
  - https://cloudflare-dns.com/dns-query
  fallback-filter:
    geoip: true
    ipcidr:
    - 240.0.0.0/4
    - 0.0.0.0/32
    - 178.22.122.100/32
    - 185.51.200.2/32
proxies:
- name: US Config_jo-01
  type: vless
  server: 91.107.244.240
  port: 8443
  uuid: 16aa617a-631d-4be3-8a6f-819a7b7480d0
  udp: true
  tls: true
  network: tcp
  servername: fastly.com
  ws-opts: null
  reality-opts:
    public-key: A-uda057zISQMYHNFlfW1PQefk11bqT_RnI8aPi3YnU
    short-id: 3f9bee6a2f7f
- name: IR Config_jo-02
  type: vless
  server: 91.107.244.240
  port: 443
  uuid: 5d2d869e-5b0a-400c-858e-7868a3760cd7
  udp: true
  tls: true
  network: tcp
  servername: eitaa.com
  ws-opts: null
  reality-opts:
    public-key: XxXoy5irdwJ6_BtkEuRmbk2J3E-4AO34n9gJLsJ0b0M
    short-id: c7
proxy-groups:
- name: PROXY
  type: select
  proxies:
  - âš¡ Auto-Select
  - DIRECT
  - US Config_jo-01
  - IR Config_jo-02
- name: âš¡ Auto-Select
  type: url-test
  proxies:
  - US Config_jo-01
  - IR Config_jo-02
  url: http://www.gstatic.com/generate_204
  interval: 300
- name: ðŸ‡®ðŸ‡· Iran
  type: select
  proxies:
  - DIRECT
  - PROXY
- name: ðŸ›‘ Block-Ads
  type: select
  proxies:
  - REJECT
  - DIRECT
rule-providers:
  iran_domains:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/bootmortis/iran-clash-rules/main/iran-domains.txt
    path: ./rules/iran_domains.txt
    interval: 86400
  blocked_domains:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/bootmortis/iran-clash-rules/main/blocked-domains.txt
    path: ./rules/blocked_domains.txt
    interval: 86400
  ad_domains:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/bootmortis/iran-clash-rules/main/ad-domains.txt
    path: ./rules/ad_domains.txt
    interval: 86400
rules:
- RULE-SET,ad_domains,ðŸ›‘ Block-Ads
- RULE-SET,blocked_domains,PROXY
- RULE-SET,iran_domains,ðŸ‡®ðŸ‡· Iran
- GEOIP,IR,ðŸ‡®ðŸ‡· Iran
- MATCH,PROXY
